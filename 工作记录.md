1.bingo登录和跨天新增challenge_prize字段，传挑战关奖励

2.挑战关开启，会传挑战关数据，challenge_board和challenge_history，有挑战关断线数据，会传挑战关断线数据challenge_disconnection

3.普通bingo的collect_bingo_ball协议开启挑战关传open_challenge_level字段，以及challenge_board和challenge_history字段，挑战关的collect_bingo_ball协议在触发打火机会返回挑战关对应的字段

4.roll_bingo_ball、collect_bingo_ball、roll_wild_bingo_ball添加challenge请求，1为挑战关，不传或0为普通bingo

5.挑战关通关在roll_bingo_ball协议下面的last_bingo中传challenge_is_bingo字段

6.普通盘面type=4为挑战关（1为宝箱，2为碎片，3为纸飞机）

7.挑战关盘面6、8、16、18为火箭位置，第一个数字方别为101、102、103和104，打火机在其它格子，type分别为1、2、3、4，对应相应的火箭，火箭的最后一个数字为火箭被点次数，默认为0，最高为2

21025

discount_coupon返回字段格式
{u'discount_coupon': {u'store_discount_coupon_cid': 1,
u'store_discount_coupon_list': [{u'end_time': 1624626603, u'level': 2, u'type': 1},
{u'end_time': 1624627086, u'level': 2, u'type': 1},
{u'end_time': 1624627240, u'level': 2, u'type': 1}]}}

store_discount_coupon_cid

1.开启21025 benefit会新增一个discount_coupon_benefit，活动期间只能获取一次，商店任意购买获得discount_coupon，在collect_store返回discout_coupon_result字段，discount_coupon_result字段下面传store_discount_coupon_cid和store_discount_coupon_list

2.如果有未过期的代金券，登录和跨天的store_info字段下面会有discount_coupon字段

3.新增激活代金券的协议activate_discount_coupon，同activate_coupon，传入cid和type，返回store_info

4.激活代金券后商店的store_info下面的sales_list字段的price会更新为新的价格，旧的价格在old_price下面

## b级活动三选一

* 新增prize_type字段，在登录和跨天返回，默认为空字符串，选择奖励后改完选择的奖励类型（atw, byd, stamp)，在完成一轮后置为空字符串
* 新增set_b_system_prize_type协议，传b_system_type（cooking, archer等b级活动字段）和prize_type（atw、byd和stamp）字段，初始化奖励后传回相关b级活动的数据
* 在未选择奖励的时，cooking字段下的final_prize、index_prize和extra_prize不传，传total_final_prize和total_index_prize、total_extra_prize和total_dash_prize(根据开启的dash活动更新奖励)
* 玩家的排行榜名次从login数据获取，在last_b_ranking字段下面
* 新增collect_b_system_ranking_prize协议，传玩家的奖励选择情况，用choose_prize_list，[0, 0, 0, 0, 0, 0, 0, 0]，每个代表一个奖励选项，不选为0， 数组第一个数对应第一档奖励，选择有三个，1为atw，2为byd，3为stamp，b_ranking_reward字段，格式通之前login，奖励通过inbox发放

## bingo

1.能量电池占球吗
2.获取的能量电池有水印吗

## 代金账户

1. 登录或跨天传frenzy_cash字段，返回当前frenzy cash数量
2. 消耗frenzy cash购买商品需要用consume_frenzy_cash协议，请求传item_id，协议返回值同new_pay协议返回值，额外返回一个frenzy_cash字段，返回消耗后的frenzy cash总数量
3. 消耗后传collect_store字段收取商店奖励，与付费购买相同
4. 通用奖励配置为frenzy_cash_point: num，num为配置数量，收奖返回值为frenzy_cash:num
   num为frenzy总数量

## jackpot again改版

1.转盘数据为[10, 50, 100, 500, 1000, 5000]
2.benefit字段为jackpot_wheel_benefit
3.collect_store协议返回值，字段下面有wheel_index（0~5），为本次购买转盘的指针，total_win，limit_times为当前最大倍率
4.中jackpot奖励后batch_spin协议下面返回jackpot_wheel字段，包含total_win和limit_times

## B级奖励商店

1.login和跨天返回b_store_manager字段，字段下面有b_store(当前b_store数量)，b_store_buy_times(限制购买商品的购买次数，由商品id和购买次数组成)
2.通用奖励配置为b_store_point: 10
3.通用收奖返回值为b_store: 100,放回值为用户当前b_store数量
4.consume_b_store_point传入购买的商店id，用b_store_id字段，购买成功后返回通用收奖返回值和b_store_manager

## super saver

1.super saver字段下面有两个字段：mission_list和active_mission_idx(默认-1)
2.新增active_super_saver_mission协议，传入激活的任务index(从0开始)，返回super saver字段
3.原super_saver_mission_collect协议不激活任务，返回字段super_saver格式同1
4.购买后如果当前没有激活的super saver，会自动激活当前购买的super saver

## 5*3

0:
0: collect_solitaire
1: collect_daily_bonus, inbox发小游戏也会有
2: collect_level_up_party
3: batch_spin或collect_coins
4: collect_bc_mission

1:
0: mission_pass加经验的返回值里面
1：batch_spin
2：batch_spin或collect_coins
3：atw通用收奖返回值，atw新手引导
4：collect_mission
2：
0：batch_spin或collect_coins
1：加byd箱子，没返回值
2：new_stamps同级
3：collect_genie_game_plus
4: batch_spin或collect_coins

bingo挑战关
1.初始位置为[101, 5, 1]
2.获取新球位置有改变会返回new_pos和old_pos，以及line_map(同上一版)，有个小区别是球到底部不会传new_pos，只有old_pos和line_map

b级排行榜
1.b choice过期无数据，之前b season为排行榜赛季，能否正常领奖励
2.二选一选非排行榜，是否会降级
3.二选一选排行榜，是否会正常发奖

dash
journey:

* 15008:
  - target 50, 35, 25, 20
  - 消耗token数量
* 15009:
  - target 100, 80, 50, 40
  - 获取多少金币
* 15010:
  - target 700, 500, 400, 300
  - 走多少步

rocket：

* 11008
  - 40, 30, 20, 15
  - 消耗token数量
* 11009
  - 400, 320, 240, 160
  - 步数
* 11010
  - 10, 8, 6, 4
  - 完成一关/一轮

archer：

* 17007
  - 25, 18, 14, 10
  - 玩几次
* 17008
  - 100, 80, 50, 40
  - 获得多少金币
* 17009
  - 25, 20, 15, 12
  - 获得多少徽章

bingo:

* 14009
  - 50, 35, 25, 20
  - roll球数量
* 14010
  - 100, 80, 50, 40
  - 获得多少金币
* 14011
  - 30, 24, 20, 15
  - 完成几张卡

blast：

* 10009

- 50, 35, 25, 20
- pick次数

* 10010
  - 50, 40, 20, 15
  - 从箱子获得多少金币
* 10011
  - 25, 18, 12, 8
  - 完成多少次level

cooking:

* 16007
  - 30, 25, 20, 10
  - 购买材料次数
* 16008
  - 30, 25, 20, 10
  - 完成菜品次数
* 16009
  - 10, 8, 6, 4
  - 完成多少次level

gof:

* 18006
  - 40, 30, 20, 15
  - 消耗多少token
* 18007
  - 100, 80, 50, 40
  - 获取多少金币
* 18008
  - 10, 8, 6, 4
  - 完成多少次level

mow:

* 12007
  - 40, 30, 25, 15
  - 消耗token数量
* 12008
  - 120, 90, 75, 60
  - 获取多少金币
* 12009
  - 10, 8, 6, 5
  - 完成多少次level

# TOWER改版

login返回值branch_type字段，默认为0

roll_tower_step
新增has_branch字段，返回值有这个字段，表示玩家到达岔路，这时玩家会在岔路口停下，需要发送select_tower_branch_type协议，协议需要传入branch_type字段，值为0和1，表示玩家选择的路径，选完后发送collect_tower_step协议

# GOF

登录传special_wheel字段，目前special wheel还有几步触发
type = 17
index 0~5
index是转盘的结果
0. 地图中随机添加一个1级大炮

1. 随机一个大炮等级提升1级
2. 金币（关卡内每次中到后都会提升数额）
3. 地图中随机添加一个2级大炮
4. 随机一个大炮等级提升至最高级
5. 第二货币（关卡内每次中到后都会提升数额）
   0, 1, 3, 4有select_pos, 表示选的地图位置
   2有coins字段，5有chips字段

# pick小游戏

1. 改为inbox发奖，208为smoking hot 209为lucky 88
2. inbox收奖后需发enter_theme协议，字段同之前直接触发
3. inbox收取奖励后未玩下线，登录会传has_luck_88:1或has_smoking_hot:1
4. pick_select_small_theme协议，传type字段，里面传play或inbox字段，协议无返回值
5. pick未发pick_select_small_theme协议断线，login协议的blast字段下会返回{'mini_theme': 2001}或{'mini_theme': 2003}


# atw换赛季

1. extra_bat_list，atw的商品都集齐，未领取奖励的时候会将新获取的bag存入这个字段，登录或者收atw奖励会返回
2. 收取最终奖励后，可以发送collect_atw_extra_bag协议收取额外袋子的奖励，同通用bag收奖

# gof改版

1. 地图新增42(随机添加一个1级大炮)、43(随机添加一个2级大炮)、44(随机一个大炮升1级)、45(随机一个大炮升2级)，gof_spin返回字段为{'type': 18, 'select_pos': **, 'index': 42}，无法升级或添加大炮会没有select_pos字段，用coin字段代替
2. 特殊奖励依然为type=17，返回字段为{'type': 17, 'pos': **, 'coin': $$}
3. 


阿里云sql数据库
host:39.102.117.166
port:13306
name:phoroot
pass:MMb@x&G6qVTaO@u7

阿里云redis数据库
host:39.102.117.166
port:16379
auth:r-2ze0l7ziambsy8nzli:MMb@x&G6qVTaO@u7

find  -name "*.pyc" | xargs rm -rf

journey dash1修复，打boss修改

5乘3 multipliter完成daily mission加进度